# Data on files

ファイル上でデータがどのように配置されているかについて記す.

## テーブル

一枚のファイルが一つのテーブルのすべてのデータに対応する.

## スキーマのレイアウト
各データはつぎのようにファイル上で保存する.
ファイルはブロックサイズごとにブロックに分かれている. 各レコードは

- 同じ長さであり,
- ブロックをまたがないように,

ように配置されている.

各ブロック内でレコードはつぎのようにempty flagとレコードの組が並ぶように
並べられており, 余った分は余りとして使われない.

```
| empty flag (1byte) | record | empty flag (1byte) | record | ... | not used|
```

empty flagが0x01のときemptyではなく, 0x00のときemptyである.

## レコードレイアウト

レコードはそれが占めるサイズが最も小さくなるようにレイアウトを決められる.